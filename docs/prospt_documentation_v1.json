{"openapi":"3.1.0","info":{"title":"Prosept - разметка товаров","description":"Cервис для полуавтоматической разметки товаров","version":"v1"},"paths":{"/api/v1/products/{product_id}/":{"get":{"tags":["Товары заказчика"],"summary":"Получить товар заказчика","operationId":"get_product_api_v1_products__product_id___get","security":[{"APIKeyCookie":[]}],"parameters":[{"name":"product_id","in":"path","required":true,"schema":{"type":"integer","title":"Product Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Product"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/products/import-csv/":{"post":{"tags":["Товары заказчика"],"summary":"Импорт данных заказчика из CSV","operationId":"imports_product_csv_api_v1_products_import_csv__post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_imports_product_csv_api_v1_products_import_csv__post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyCookie":[]}]}},"/api/v1/products":{"get":{"tags":["Товары заказчика"],"summary":"Получить все товары заказчика","operationId":"get_all_products_api_v1_products_get","security":[{"APIKeyCookie":[]}],"parameters":[{"name":"search_query","in":"query","required":false,"schema":{"type":"string","description":"Search","title":"Search Query"},"description":"Search"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Page size limit","default":50,"title":"Limit"},"description":"Page size limit"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Page offset","default":0,"title":"Offset"},"description":"Page offset"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LimitOffsetPage_Product_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/dealers/import-csv/dealerprices":{"post":{"tags":["Товары дилера"],"summary":"Импорт данных дилеров из CSV","operationId":"imports_dealer_prices_csv_api_v1_dealers_import_csv_dealerprices_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_imports_dealer_prices_csv_api_v1_dealers_import_csv_dealerprices_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyCookie":[]}]}},"/api/v1/dealers/import-csv/dealers":{"post":{"tags":["Товары дилера"],"summary":"Импорт дилеров из CSV","operationId":"imports_dealers_csv_api_v1_dealers_import_csv_dealers_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_imports_dealers_csv_api_v1_dealers_import_csv_dealers_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyCookie":[]}]}},"/api/v1/dealers/price/{dealerprice_id}/":{"get":{"tags":["Товары дилера"],"summary":"Получить товар дилера","operationId":"get_dealer_price_api_v1_dealers_price__dealerprice_id___get","security":[{"APIKeyCookie":[]}],"parameters":[{"name":"dealerprice_id","in":"path","required":true,"schema":{"type":"integer","title":"Dealerprice Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DealerPriceView"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/dealers/price":{"get":{"tags":["Товары дилера"],"summary":"Получить товары дилеров","operationId":"get_all_dealer_price_api_v1_dealers_price_get","security":[{"APIKeyCookie":[]}],"parameters":[{"name":"dealer_name","in":"query","required":false,"schema":{"type":"string","description":"Dealer","title":"Dealer Name"},"description":"Dealer"},{"name":"search_query","in":"query","required":false,"schema":{"type":"string","description":"Search","title":"Search Query"},"description":"Search"},{"name":"status","in":"query","required":false,"schema":{"allOf":[{"$ref":"#/components/schemas/DealerPriceStatus"}],"description":"Matching status","title":"Status"},"description":"Matching status"},{"name":"sort_by","in":"query","required":false,"schema":{"allOf":[{"$ref":"#/components/schemas/SortedField"}],"description":"Sort by","title":"Sort By"},"description":"Sort by"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Page size limit","default":50,"title":"Limit"},"description":"Page size limit"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Page offset","default":0,"title":"Offset"},"description":"Page offset"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LimitOffsetPage_DealerPriceView_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/dealers":{"get":{"tags":["Товары дилера"],"summary":"Получить список дилеров","operationId":"get_all_dealers_api_v1_dealers_get","security":[{"APIKeyCookie":[]}],"parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Page size limit","default":50,"title":"Limit"},"description":"Page size limit"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Page offset","default":0,"title":"Offset"},"description":"Page offset"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LimitOffsetPage_Dealer_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/matching/all":{"get":{"tags":["Сопоставление"],"summary":"Получить все сопоставленные товары","operationId":"get_matched_api_v1_matching_all_get","security":[{"APIKeyCookie":[]}],"parameters":[{"name":"search_query","in":"query","required":false,"schema":{"type":"string","description":"Search","title":"Search Query"},"description":"Search"},{"name":"status","in":"query","required":false,"schema":{"allOf":[{"$ref":"#/components/schemas/MatchingStatus"}],"description":"Matching status","title":"Status"},"description":"Matching status"},{"name":"sort_by","in":"query","required":false,"schema":{"allOf":[{"$ref":"#/components/schemas/SortedField"}],"description":"Sort by","title":"Sort By"},"description":"Sort by"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Page size limit","default":50,"title":"Limit"},"description":"Page size limit"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Page offset","default":0,"title":"Offset"},"description":"Page offset"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LimitOffsetPage_ProductDealer_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/matching/{dealerprice_id}/":{"get":{"tags":["Сопоставление"],"summary":"Получить сопоставляемые товары заказчика","operationId":"get_mapped_products_api_v1_matching__dealerprice_id___get","security":[{"APIKeyCookie":[]}],"parameters":[{"name":"dealerprice_id","in":"path","required":true,"schema":{"type":"integer","title":"Dealerprice Id"}},{"name":"count","in":"query","required":false,"schema":{"type":"integer","maximum":25,"minimum":1,"default":5,"title":"Count"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProductSmall"},"title":"Response Get Mapped Products Api V1 Matching  Dealerprice Id   Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/matching/user/me":{"get":{"tags":["Сопоставление"],"summary":"Получить сопоставленные товары текущего юзера","operationId":"get_matched_api_v1_matching_user_me_get","security":[{"APIKeyCookie":[]}],"parameters":[{"name":"search_query","in":"query","required":false,"schema":{"type":"string","description":"Search","title":"Search Query"},"description":"Search"},{"name":"status","in":"query","required":false,"schema":{"allOf":[{"$ref":"#/components/schemas/MatchingStatus"}],"description":"Matching status","title":"Status"},"description":"Matching status"},{"name":"sort_by","in":"query","required":false,"schema":{"allOf":[{"$ref":"#/components/schemas/SortedField"}],"description":"Sort by","title":"Sort By"},"description":"Sort by"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Page size limit","default":50,"title":"Limit"},"description":"Page size limit"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Page offset","default":0,"title":"Offset"},"description":"Page offset"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LimitOffsetPage_ProductDealer_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/matching/user/{user_id}":{"get":{"tags":["Сопоставление"],"summary":"Получить сопоставленные товары конеретного юзера","operationId":"get_matched_api_v1_matching_user__user_id__get","security":[{"APIKeyCookie":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}},{"name":"search_query","in":"query","required":false,"schema":{"type":"string","description":"Search","title":"Search Query"},"description":"Search"},{"name":"status","in":"query","required":false,"schema":{"allOf":[{"$ref":"#/components/schemas/MatchingStatus"}],"description":"Matching status","title":"Status"},"description":"Matching status"},{"name":"sort_by","in":"query","required":false,"schema":{"allOf":[{"$ref":"#/components/schemas/SortedField"}],"description":"Sort by","title":"Sort By"},"description":"Sort by"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Page size limit","default":50,"title":"Limit"},"description":"Page size limit"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Page offset","default":0,"title":"Offset"},"description":"Page offset"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LimitOffsetPage_ProductDealer_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/matching/dealer/{dealer_id}":{"get":{"tags":["Сопоставление"],"summary":"Получить сопоставленные товары дилера","operationId":"get_matched_api_v1_matching_dealer__dealer_id__get","security":[{"APIKeyCookie":[]}],"parameters":[{"name":"dealer_id","in":"path","required":true,"schema":{"type":"integer","title":"Dealer Id"}},{"name":"search_query","in":"query","required":false,"schema":{"type":"string","description":"Search","title":"Search Query"},"description":"Search"},{"name":"status","in":"query","required":false,"schema":{"allOf":[{"$ref":"#/components/schemas/MatchingStatus"}],"description":"Matching status","title":"Status"},"description":"Matching status"},{"name":"sort_by","in":"query","required":false,"schema":{"allOf":[{"$ref":"#/components/schemas/SortedField"}],"description":"Sort by","title":"Sort By"},"description":"Sort by"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Page size limit","default":50,"title":"Limit"},"description":"Page size limit"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Page offset","default":0,"title":"Offset"},"description":"Page offset"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LimitOffsetPage_ProductDealer_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/matching/accepted":{"post":{"tags":["Сопоставление"],"summary":"Сопоставить товары (есть сопоставление)","operationId":"post_mapped_products_api_v1_matching_accepted_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductDealerKey"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Post Mapped Products Api V1 Matching Accepted Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyCookie":[]}]}},"/api/v1/matching/not-accepted":{"post":{"tags":["Сопоставление"],"summary":"Сопоставить товары (нет сопоставления)","operationId":"post_not_mapped_products_api_v1_matching_not_accepted_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductDealerKeyNone"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Post Not Mapped Products Api V1 Matching Not Accepted Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyCookie":[]}]}},"/api/v1/matching/accepted-later":{"post":{"tags":["Сопоставление"],"summary":"Сопоставить товары (отложить)","operationId":"post_mapped_products_later_api_v1_matching_accepted_later_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductDealerKeyNone"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Post Mapped Products Later Api V1 Matching Accepted Later Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyCookie":[]}]}},"/api/v1/analytics/matched-count/dealer/{dealer_id}":{"get":{"tags":["Аналитика"],"summary":"Количество сопоставлений для конкретного дилера","operationId":"get_times_compared_api_v1_analytics_matched_count_dealer__dealer_id__get","security":[{"APIKeyCookie":[]}],"parameters":[{"name":"dealer_id","in":"path","required":true,"schema":{"type":"integer","title":"Dealer Id"}},{"name":"start_date","in":"query","required":false,"schema":{"type":"string","format":"date-time","description":"Start date","default":"2022-12-07T16:00:48.902175Z","title":"Start Date"},"description":"Start date"},{"name":"end_date","in":"query","required":false,"schema":{"type":"string","format":"date-time","description":"End date","default":"2023-12-07T16:00:48.902200Z","title":"End Date"},"description":"End date"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MatchedCount"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analytics/matched-count":{"get":{"tags":["Аналитика"],"summary":"Общее количество сопоставлений","operationId":"get_times_compared_api_v1_analytics_matched_count_get","security":[{"APIKeyCookie":[]}],"parameters":[{"name":"start_date","in":"query","required":false,"schema":{"type":"string","format":"date-time","description":"Start date","default":"2022-12-07T16:00:48.903298Z","title":"Start Date"},"description":"Start date"},{"name":"end_date","in":"query","required":false,"schema":{"type":"string","format":"date-time","description":"End date","default":"2023-12-07T16:00:48.903328Z","title":"End Date"},"description":"End date"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MatchedCount"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analytics/matched-count/user/me":{"get":{"tags":["Аналитика"],"summary":"Количество сопоставлений текущего юзера","operationId":"get_times_compared_api_v1_analytics_matched_count_user_me_get","security":[{"APIKeyCookie":[]}],"parameters":[{"name":"start_date","in":"query","required":false,"schema":{"type":"string","format":"date-time","description":"Start date","default":"2022-12-07T16:00:48.904035Z","title":"Start Date"},"description":"Start date"},{"name":"end_date","in":"query","required":false,"schema":{"type":"string","format":"date-time","description":"End date","default":"2023-12-07T16:00:48.904055Z","title":"End Date"},"description":"End date"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MatchedCount"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analytics/matched-count/user/{user_id}":{"get":{"tags":["Аналитика"],"summary":"Количество сопоставлений текущего юзера","operationId":"get_times_compared_api_v1_analytics_matched_count_user__user_id__get","security":[{"APIKeyCookie":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}},{"name":"start_date","in":"query","required":false,"schema":{"type":"string","format":"date-time","description":"Start date","default":"2022-12-07T16:00:48.904922Z","title":"Start Date"},"description":"Start date"},{"name":"end_date","in":"query","required":false,"schema":{"type":"string","format":"date-time","description":"End date","default":"2023-12-07T16:00:48.904942Z","title":"End Date"},"description":"End date"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MatchedCount"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/all":{"get":{"tags":["Пользователь"],"summary":"Получить всех пользователей","operationId":"get_all_products_api_v1_users_all_get","security":[{"APIKeyCookie":[]}],"parameters":[{"name":"search_query","in":"query","required":false,"schema":{"type":"string","description":"Search","title":"Search Query"},"description":"Search"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Page size limit","default":50,"title":"Limit"},"description":"Page size limit"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Page offset","default":0,"title":"Offset"},"description":"Page offset"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LimitOffsetPage_UserAll_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/jwt/login":{"post":{"tags":["Аутентификация"],"summary":"Auth:Jwt.Login","operationId":"auth_jwt_login_api_auth_jwt_login_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_auth_jwt_login_api_auth_jwt_login_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorModel"},"examples":{"LOGIN_BAD_CREDENTIALS":{"summary":"Bad credentials or the user is inactive.","value":{"detail":"LOGIN_BAD_CREDENTIALS"}},"LOGIN_USER_NOT_VERIFIED":{"summary":"The user is not verified.","value":{"detail":"LOGIN_USER_NOT_VERIFIED"}}}}}},"204":{"description":"No Content"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/jwt/logout":{"post":{"tags":["Аутентификация"],"summary":"Auth:Jwt.Logout","operationId":"auth_jwt_logout_api_auth_jwt_logout_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Missing token or inactive user."},"204":{"description":"No Content"}},"security":[{"APIKeyCookie":[]}]}},"/api/auth/register":{"post":{"tags":["Аутентификация"],"summary":"Register:Register","operationId":"register_register_api_auth_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRead"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorModel"},"examples":{"REGISTER_USER_ALREADY_EXISTS":{"summary":"A user with this email already exists.","value":{"detail":"REGISTER_USER_ALREADY_EXISTS"}},"REGISTER_INVALID_PASSWORD":{"summary":"Password validation failed.","value":{"detail":{"code":"REGISTER_INVALID_PASSWORD","reason":"Password should beat least 3 characters"}}}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/users/me":{"get":{"tags":["Пользователь"],"summary":"Users:Current User","operationId":"users_current_user_api_users_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRead"}}}},"401":{"description":"Missing token or inactive user."}},"security":[{"APIKeyCookie":[]}]},"patch":{"tags":["Пользователь"],"summary":"Users:Patch Current User","operationId":"users_patch_current_user_api_users_me_patch","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRead"}}}},"401":{"description":"Missing token or inactive user."},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorModel"},"examples":{"UPDATE_USER_EMAIL_ALREADY_EXISTS":{"summary":"A user with this email already exists.","value":{"detail":"UPDATE_USER_EMAIL_ALREADY_EXISTS"}},"UPDATE_USER_INVALID_PASSWORD":{"summary":"Password validation failed.","value":{"detail":{"code":"UPDATE_USER_INVALID_PASSWORD","reason":"Password should beat least 3 characters"}}}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyCookie":[]}]}},"/api/users/{id}":{"get":{"tags":["Пользователь"],"summary":"Users:User","operationId":"users_user_api_users__id__get","security":[{"APIKeyCookie":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRead"}}}},"401":{"description":"Missing token or inactive user."},"403":{"description":"Not a superuser."},"404":{"description":"The user does not exist."},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["Пользователь"],"summary":"Users:Patch User","operationId":"users_patch_user_api_users__id__patch","security":[{"APIKeyCookie":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","title":"Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRead"}}}},"401":{"description":"Missing token or inactive user."},"403":{"description":"Not a superuser."},"404":{"description":"The user does not exist."},"400":{"content":{"application/json":{"examples":{"UPDATE_USER_EMAIL_ALREADY_EXISTS":{"summary":"A user with this email already exists.","value":{"detail":"UPDATE_USER_EMAIL_ALREADY_EXISTS"}},"UPDATE_USER_INVALID_PASSWORD":{"summary":"Password validation failed.","value":{"detail":{"code":"UPDATE_USER_INVALID_PASSWORD","reason":"Password should beat least 3 characters"}}}},"schema":{"$ref":"#/components/schemas/ErrorModel"}}},"description":"Bad Request"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Пользователь"],"summary":"Users:Delete User","operationId":"users_delete_user_api_users__id__delete","security":[{"APIKeyCookie":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","title":"Id"}}],"responses":{"204":{"description":"Successful Response"},"401":{"description":"Missing token or inactive user."},"403":{"description":"Not a superuser."},"404":{"description":"The user does not exist."},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"Body_auth_jwt_login_api_auth_jwt_login_post":{"properties":{"grant_type":{"anyOf":[{"type":"string","pattern":"password"},{"type":"null"}],"title":"Grant Type"},"username":{"type":"string","title":"Username"},"password":{"type":"string","title":"Password"},"scope":{"type":"string","title":"Scope","default":""},"client_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Id"},"client_secret":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Secret"}},"type":"object","required":["username","password"],"title":"Body_auth_jwt_login_api_auth_jwt_login_post"},"Body_imports_dealer_prices_csv_api_v1_dealers_import_csv_dealerprices_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_imports_dealer_prices_csv_api_v1_dealers_import_csv_dealerprices_post"},"Body_imports_dealers_csv_api_v1_dealers_import_csv_dealers_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_imports_dealers_csv_api_v1_dealers_import_csv_dealers_post"},"Body_imports_product_csv_api_v1_products_import_csv__post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_imports_product_csv_api_v1_products_import_csv__post"},"Dealer":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"}},"type":"object","required":["id","name"],"title":"Dealer"},"DealerPrice":{"properties":{"id":{"type":"integer","title":"Id"},"product_key":{"anyOf":[{"type":"integer"},{"type":"string"},{"type":"null"}],"title":"Product Key"},"price":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Price"},"product_url":{"anyOf":[{"type":"string","minLength":1,"format":"uri"},{"type":"null"}],"title":"Product Url"},"product_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Product Name"},"date":{"type":"string","format":"date","title":"Date"},"dealer":{"$ref":"#/components/schemas/Dealer"}},"type":"object","required":["id","product_key","price","product_url","product_name","date","dealer"],"title":"DealerPrice"},"DealerPriceStatus":{"type":"string","enum":["not matched","matched","deferred","not processed"],"title":"DealerPriceStatus","description":"Selecting a filter for dealer products"},"DealerPriceView":{"properties":{"id":{"type":"integer","title":"Id"},"product_key":{"anyOf":[{"type":"integer"},{"type":"string"},{"type":"null"}],"title":"Product Key"},"price":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Price"},"product_url":{"anyOf":[{"type":"string","minLength":1,"format":"uri"},{"type":"null"}],"title":"Product Url"},"product_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Product Name"},"date":{"type":"string","format":"date","title":"Date"},"dealer":{"$ref":"#/components/schemas/Dealer"},"productdealer":{"anyOf":[{"$ref":"#/components/schemas/ProductDealerPrice"},{"type":"null"}]}},"type":"object","required":["id","product_key","price","product_url","product_name","date","dealer","productdealer"],"title":"DealerPriceView"},"ErrorModel":{"properties":{"detail":{"anyOf":[{"type":"string"},{"additionalProperties":{"type":"string"},"type":"object"}],"title":"Detail"}},"type":"object","required":["detail"],"title":"ErrorModel"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"LimitOffsetPage_DealerPriceView_":{"properties":{"items":{"items":{"$ref":"#/components/schemas/DealerPriceView"},"type":"array","title":"Items"},"total":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Total"},"limit":{"anyOf":[{"type":"integer","minimum":1.0},{"type":"null"}],"title":"Limit"},"offset":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Offset"}},"type":"object","required":["items","total","limit","offset"],"title":"LimitOffsetPage[DealerPriceView]"},"LimitOffsetPage_Dealer_":{"properties":{"items":{"items":{"$ref":"#/components/schemas/Dealer"},"type":"array","title":"Items"},"total":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Total"},"limit":{"anyOf":[{"type":"integer","minimum":1.0},{"type":"null"}],"title":"Limit"},"offset":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Offset"}},"type":"object","required":["items","total","limit","offset"],"title":"LimitOffsetPage[Dealer]"},"LimitOffsetPage_ProductDealer_":{"properties":{"items":{"items":{"$ref":"#/components/schemas/ProductDealer"},"type":"array","title":"Items"},"total":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Total"},"limit":{"anyOf":[{"type":"integer","minimum":1.0},{"type":"null"}],"title":"Limit"},"offset":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Offset"}},"type":"object","required":["items","total","limit","offset"],"title":"LimitOffsetPage[ProductDealer]"},"LimitOffsetPage_Product_":{"properties":{"items":{"items":{"$ref":"#/components/schemas/Product"},"type":"array","title":"Items"},"total":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Total"},"limit":{"anyOf":[{"type":"integer","minimum":1.0},{"type":"null"}],"title":"Limit"},"offset":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Offset"}},"type":"object","required":["items","total","limit","offset"],"title":"LimitOffsetPage[Product]"},"LimitOffsetPage_UserAll_":{"properties":{"items":{"items":{"$ref":"#/components/schemas/UserAll"},"type":"array","title":"Items"},"total":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Total"},"limit":{"anyOf":[{"type":"integer","minimum":1.0},{"type":"null"}],"title":"Limit"},"offset":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Offset"}},"type":"object","required":["items","total","limit","offset"],"title":"LimitOffsetPage[UserAll]"},"MatchedCount":{"properties":{"matched":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Matched"},"not_matched":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Not Matched"},"deferred":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Deferred"},"total_matching":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Total Matching"},"accuracy":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Accuracy"},"position":{"anyOf":[{"items":{"type":"object"},"type":"array"},{"type":"null"}],"title":"Position"}},"type":"object","required":["matched","not_matched","deferred","total_matching","accuracy","position"],"title":"MatchedCount"},"MatchingStatus":{"type":"string","enum":["not matched","matched","deferred"],"title":"MatchingStatus","description":"Selecting a filter for matched products"},"Product":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"article":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Article"},"recommended_price":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Recommended Price"},"cost":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Cost"},"ean_13":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Ean 13"},"category_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Category Id"},"ozon_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ozon Name"},"name_1c":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name 1C"},"wb_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Wb Name"},"ozon_article":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ozon Article"},"wb_article":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Wb Article"},"ym_article":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ym Article"}},"type":"object","required":["id","name","article","recommended_price","cost","ean_13","category_id","ozon_name","name_1c","wb_name","ozon_article","wb_article","ym_article"],"title":"Product"},"ProductDealer":{"properties":{"dealerprice":{"$ref":"#/components/schemas/DealerPrice"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"},"product":{"anyOf":[{"$ref":"#/components/schemas/ProductSmall"},{"type":"null"}]}},"type":"object","required":["dealerprice","created_at","status","product"],"title":"ProductDealer"},"ProductDealerKey":{"properties":{"key":{"type":"integer","exclusiveMinimum":0.0,"title":"Key"},"product_id":{"type":"integer","exclusiveMinimum":0.0,"title":"Product Id"}},"type":"object","required":["key","product_id"],"title":"ProductDealerKey"},"ProductDealerKeyNone":{"properties":{"key":{"type":"integer","exclusiveMinimum":0.0,"title":"Key"}},"type":"object","required":["key"],"title":"ProductDealerKeyNone"},"ProductDealerPrice":{"properties":{"status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"},"product":{"anyOf":[{"$ref":"#/components/schemas/ProductSmall"},{"type":"null"}]}},"type":"object","required":["status","product"],"title":"ProductDealerPrice"},"ProductSmall":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"article":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Article"},"recommended_price":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Recommended Price"},"cost":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Cost"}},"type":"object","required":["id","name","article","recommended_price","cost"],"title":"ProductSmall"},"SortedField":{"type":"string","enum":["ascending time","descending time","ascending price","descending price"],"title":"SortedField"},"UserAll":{"properties":{"id":{"type":"integer","title":"Id"},"email":{"type":"string","format":"email","title":"Email"},"username":{"type":"string","title":"Username"}},"type":"object","required":["id","email","username"],"title":"UserAll"},"UserCreate":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"password":{"type":"string","title":"Password"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active","default":true},"is_superuser":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Superuser","default":false},"is_verified":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Verified","default":false},"username":{"type":"string","title":"Username"}},"type":"object","required":["email","password","username"],"title":"UserCreate"},"UserRead":{"properties":{"id":{"type":"integer","title":"Id"},"email":{"type":"string","format":"email","title":"Email"},"is_active":{"type":"boolean","title":"Is Active","default":true},"is_superuser":{"type":"boolean","title":"Is Superuser","default":false},"is_verified":{"type":"boolean","title":"Is Verified","default":false},"username":{"type":"string","title":"Username"}},"type":"object","required":["id","email","username"],"title":"UserRead"},"UserUpdate":{"properties":{"password":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Password"},"email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Email"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"},"is_superuser":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Superuser"},"is_verified":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Verified"}},"type":"object","title":"UserUpdate"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"APIKeyCookie":{"type":"apiKey","in":"cookie","name":"Prosept"}}}}